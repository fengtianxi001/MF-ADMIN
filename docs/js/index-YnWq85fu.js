import{z as g,d as y,aa as e,D as v,o as x,c as _,j as o,ab as b,f as t,J as f,K as w,i as p,e as T,ac as H,ad as h,b as D,ae as L,af as $,q as z}from"./vendor-RGK81Rd9.js";import{_ as B}from"./index-awFttPXd.js";import{m as I,_ as E,S,a as C,u as V,b as A,c as q,d as N,B as O}from"./secretHierarchyEnum-jbaofLgQ.js";import{D as M,a as P}from"./deviceCategoryEnum-upQNdLAM.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-n1xqOAjb.js";function R(u=!1,c=0){const r=g(u),l=g(0);return{loading:r,openLoading:()=>{r.value=!0,l.value=new Date().getTime()},closeLoading:()=>{const n=new Date().getTime()-l.value;n<c?setTimeout(()=>{r.value=!1},c-n):r.value=!1}}}const F=y({__name:"applyRecord",props:{id:{}},setup(u){const c=I(Array.from({length:20},()=>({applicant:e.Random.cname(),applicationTime:e.Random.datetime("yyyy-MM-dd HH:mm"),reviewer:e.Random.cname(),reviewTime:e.Random.datetime("yyyy-MM-dd HH:mm"),status:e.Random.pick([0,1,2,3,4,5,6])}))),r=[{title:"序号",dataIndex:"applicant",width:80,align:"center",render:({rowIndex:n})=>t("span",null,[n+1])},{title:"申请人",dataIndex:"applicant",width:120,align:"center"},{title:"申请时间",dataIndex:"applicationTime",width:150,align:"center"},{title:"审核人",dataIndex:"reviewer",width:120,align:"center"},{title:"审核时间",dataIndex:"reviewTime",width:150,align:"center"},{title:"状态",dataIndex:"status",align:"center",render:({record:n})=>{const a={0:{text:"待审核",color:"normal"},1:{text:"审核中",color:"processing"},2:{text:"审核通过",color:"success"},3:{text:"审核不通过",color:"danger"},4:{text:"已撤回",color:"warning"},5:{text:"已完成",color:"success"},6:{text:"逾期",color:"warning"}}[n.status];return t(w,{size:10},{default:()=>[t(f,{status:a.color,text:a.text},null)]})}}],l=g([]),{loading:s,openLoading:d,closeLoading:m}=R(!0,200);return v(async()=>{d(),l.value=await c(),m()}),(n,i)=>(x(),_(o(b),{size:"small",columns:r,loading:o(s),data:l.value,stripe:!0,scroll:{y:400},bordered:{cell:!0},pagination:!1},null,8,["loading","data"]))}}),J=y({__name:"changeRecord",props:{id:{}},setup(u){const c=I(Array.from({length:20},()=>({applicant:e.Random.cname(),applicationTime:e.Random.datetime("yyyy-MM-dd HH:mm"),reviewer:e.Random.cname(),reviewTime:e.Random.datetime("yyyy-MM-dd HH:mm"),status:e.Random.pick([0,1,2,3,4,5,6])}))),r=[{title:"序号",dataIndex:"applicant",width:80,align:"center",render:({rowIndex:n})=>t("span",null,[n+1])},{title:"申请人",dataIndex:"applicant",width:120,align:"center"},{title:"申请时间",dataIndex:"applicationTime",width:150,align:"center"},{title:"审核人",dataIndex:"reviewer",width:120,align:"center"},{title:"审核时间",dataIndex:"reviewTime",width:150,align:"center"},{title:"状态",dataIndex:"status",align:"center",render:({record:n})=>{const a={0:{text:"待审核",color:"normal"},1:{text:"审核中",color:"processing"},2:{text:"审核通过",color:"success"},3:{text:"审核不通过",color:"danger"},4:{text:"已撤回",color:"warning"},5:{text:"已完成",color:"success"},6:{text:"逾期",color:"warning"}}[n.status];return t(w,{size:10},{default:()=>[t(f,{status:a.color,text:a.text},null)]})}}],l=g([]),{loading:s,openLoading:d,closeLoading:m}=R(!0,200);return v(async()=>{d(),l.value=await c(),m()}),(n,i)=>(x(),_(o(b),{size:"small",columns:r,loading:o(s),data:l.value,stripe:!0,scroll:{y:400},bordered:{cell:!0},pagination:!1},null,8,["loading","data"]))}}),K=y({__name:"retireRecord",props:{id:{}},setup(u){const c=I(Array.from({length:20},()=>({applicant:e.Random.cname(),applicationTime:e.Random.datetime("yyyy-MM-dd HH:mm"),reviewer:e.Random.cname(),reviewTime:e.Random.datetime("yyyy-MM-dd HH:mm"),status:e.Random.pick([0,1,2,3,4,5,6])}))),r=[{title:"序号",dataIndex:"applicant",width:80,align:"center",render:({rowIndex:n})=>t("span",null,[n+1])},{title:"申请人",dataIndex:"applicant",width:120,align:"center"},{title:"申请时间",dataIndex:"applicationTime",width:150,align:"center"},{title:"审核人",dataIndex:"reviewer",width:120,align:"center"},{title:"审核时间",dataIndex:"reviewTime",width:150,align:"center"},{title:"状态",dataIndex:"status",align:"center",render:({record:n})=>{const a={0:{text:"待审核",color:"normal"},1:{text:"审核中",color:"processing"},2:{text:"审核通过",color:"success"},3:{text:"审核不通过",color:"danger"},4:{text:"已撤回",color:"warning"},5:{text:"已完成",color:"success"},6:{text:"逾期",color:"warning"}}[n.status];return t(w,{size:10},{default:()=>[t(f,{status:a.color,text:a.text},null)]})}}],l=g([]),{loading:s,openLoading:d,closeLoading:m}=R(!0,200);return v(async()=>{d(),l.value=await c(),m()}),(n,i)=>(x(),_(o(b),{size:"small",columns:r,loading:o(s),data:l.value,stripe:!0,scroll:{y:400},bordered:{cell:!0},pagination:!1},null,8,["loading","data"]))}}),U=y({__name:"scrapRecord",props:{id:{}},setup(u){const c=I(Array.from({length:20},()=>({applicant:e.Random.cname(),applicationTime:e.Random.datetime("yyyy-MM-dd HH:mm"),reviewer:e.Random.cname(),reviewTime:e.Random.datetime("yyyy-MM-dd HH:mm"),status:e.Random.pick([0,1,2,3,4,5,6])}))),r=[{title:"序号",dataIndex:"applicant",width:80,align:"center",render:({rowIndex:n})=>t("span",null,[n+1])},{title:"申请人",dataIndex:"applicant",width:120,align:"center"},{title:"申请时间",dataIndex:"applicationTime",width:150,align:"center"},{title:"审核人",dataIndex:"reviewer",width:120,align:"center"},{title:"审核时间",dataIndex:"reviewTime",width:150,align:"center"},{title:"状态",dataIndex:"status",align:"center",render:({record:n})=>{const a={0:{text:"待审核",color:"normal"},1:{text:"审核中",color:"processing"},2:{text:"审核通过",color:"success"},3:{text:"审核不通过",color:"danger"},4:{text:"已撤回",color:"warning"},5:{text:"已完成",color:"success"},6:{text:"逾期",color:"warning"}}[n.status];return t(w,{size:10},{default:()=>[t(f,{status:a.color,text:a.text},null)]})}}],l=g([]),{loading:s,openLoading:d,closeLoading:m}=R(!0,200);return v(async()=>{d(),l.value=await c(),m()}),(n,i)=>(x(),_(o(b),{size:"small",columns:r,loading:o(s),data:l.value,stripe:!0,scroll:{y:400},bordered:{cell:!0},pagination:!1},null,8,["loading","data"]))}}),G={class:"container"},Q={class:"container-left"},W={class:"container-right",style:{"margin-top":"15px"}},X=y({__name:"index",props:{record:{}},setup(u){const c=[{label:"设备编号",name:"code"},{label:"设备名称",name:"name"},{label:"设备型号",name:"model"},{label:"设备品牌",name:"brand"},{label:"设备类别",name:"category",render:r=>M[r]},{label:"设备密级",name:"security",render:r=>S[r]},{label:"生产厂商",name:"manufacturer"},{label:"设备数量",name:"quantity"},{label:"设备单位",name:"unit"},{label:"入库人",name:"registeredBy"},{label:"入库时间",name:"registerDate"},{label:"购置时间",name:"purchaseDate"}];return(r,l)=>(x(),_(o(E),{title:"设备详情",footer:!1},{default:p(()=>[T("div",G,[T("div",Q,[t(o(j),{size:"small",column:3,configs:c,modelValue:r.record,bordered:""},null,8,["modelValue"])]),T("div",W,[t(o(H),{type:"capsule","destroy-on-hide":!0,"lazy-load":!0},{default:p(()=>[t(o(h),{key:"apply",title:"申领记录"},{default:p(()=>[t(F)]),_:1}),t(o(h),{key:"retire",title:"清退记录"},{default:p(()=>[t(K)]),_:1}),t(o(h),{key:"change",title:"更换记录"},{default:p(()=>[t(J)]),_:1}),t(o(h),{key:"scrap",title:"报废记录"},{default:p(()=>[t(U)]),_:1})]),_:1})])])]),_:1}))}}),Y=B(X,[["__scopeId","data-v-34c901b4"]]),Z={class:"page"},le=y({__name:"index",setup(u){const c=C(Array.from({length:20},(i,a)=>({id:a+1,code:`DEV-${a+1}`,name:`设备名称 ${a+1}`,model:`型号 ${a+1}`,brand:`品牌 ${a+1}`,category:e.Random.pick([0,1,2,3,4,5,6]),security:e.Random.pick([0,1,2,3]),manufacturer:`厂商 ${a+1}`,quantity:e.Random.natural(1,100),unit:e.Random.pick(["个","台"]),registeredBy:e.Random.cname(),registerDate:e.Random.date("yyyy-MM-dd"),purchaseDate:e.Random.date("yyyy-MM-dd")}))),{table:r,selected:l,refresh:s}=V(),d=[{label:"设备编号",name:"code",component:"Input"},{label:"设备名称",name:"name",component:"Input"},{label:"设备型号",name:"model",component:"Input"},{label:"设备品牌",name:"brand",component:"Input"},{label:"设备类别",name:"category",component:"Select",props:{options:[...P]}},{label:"设备密级",name:"security",component:"Select",props:{options:[...A]}}],m=[{title:"设备编号",dataIndex:"code",align:"left"},{title:"设备名称",dataIndex:"name",align:"center"},{title:"设备型号",dataIndex:"model",align:"center"},{title:"设备品牌",dataIndex:"brand",align:"center"},{title:"设备类别",dataIndex:"category",align:"center",render:({record:i})=>M[i.category]},{title:"设备密级",dataIndex:"security",align:"center",render:({record:i})=>{const a=q[i.security];return t(f,{status:a.status,text:a.text},null)}},{title:"操作",align:"center",width:120,render:({record:i})=>t(w,{size:10},{default:()=>[t($,{onClick:()=>n.onDetail(i)},{default:()=>[z("详情")]})]})}],n={onDetail:async i=>{await N(Y,{record:i})&&s()}};return(i,a)=>(x(),D("div",Z,[t(o(O),{selected:o(l),"onUpdate:selected":a[0]||(a[0]=k=>L(l)?l.value=k:null),ref_key:"table",ref:r,title:"我的设备列表","row-key":"id",selection:"checkbox",service:o(c),"table-filter":d,"table-columns":m},null,8,["selected","service"])]))}});export{le as default};
