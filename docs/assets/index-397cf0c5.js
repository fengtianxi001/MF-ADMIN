import{B as M}from"./index-0360edc7.js";import{_ as w}from"./index.vue_vue_type_script_setup_true_lang-6cfa4633.js";import{d as I,_ as S}from"./index.vue_vue_type_script_setup_true_lang-d617ef71.js";import{d as B,bX as g,c as F,a as k,h as t,s,u as n,l as p,bT as C,o as N,x as V,M as E}from"./index-b15cb7d1.js";import{u as T}from"./index-56d760ae.js";import{u as q}from"./index-25a923d1.js";import"./index-28ec1896.js";const z={class:"page-container form-base"},X=B({__name:"index",setup(P){const{boolean:r,setTrue:m,setFalse:u}=g(!1),{form:c,validate:i,resetFields:b}=q();let o=null;const{data:a,loading:v,run:d}=T(I,{defaultData:{},formatResult:e=>e,onBefore:()=>{o&&o(),b()},onFinally:e=>{const l=p.cloneDeep(e);o=C(()=>p.isEqual(l,a.value)?u():m())}}),f=async()=>{!await i()&&E.success("操作成功")},_=F(()=>[{type:"primary",size:"small",disabled:!r.value,onClick:f,text:"保存变更"},{type:"primary",size:"small",onClick:d,text:"重置"}]),y=[{name:"level",component:"Select",label:"工程等别",required:!0,props:{options:[{value:1,label:"I"},{value:2,label:"II"},{value:3,label:"III"},{value:4,label:"IV"},{value:5,label:"V"}]}},{name:"size",component:"Select",label:"工程规模",props:{options:[{value:1,label:"大型"},{value:2,label:"中型"},{value:3,label:"小型"}]}},{name:"type",component:"Select",label:"工程类型",props:{options:[{value:1,label:"大地工程"},{value:2,label:"结构工程"},{value:3,label:"地震工程"},{value:4,label:"水利工程"}]}},{name:"structure",component:"Select",label:"工程结构",props:{options:[{value:1,label:"线构材"},{value:2,label:"面构材"},{value:3,label:"空间构材"}]}},{name:"seismicGrade",component:"InputNumber",label:"工程抗震等级",props:{max:15,min:0,precision:0}},{name:"industry",component:"Select",label:"工程领域",props:{options:[{value:1,label:"公共设施"},{value:2,label:"社会性基础设施"}]}},{name:"area",component:"InputNumber",label:"工程面积(平方公里)",props:{max:Math.pow(10,7)-1,min:0,precision:2}},{name:"price",component:"InputNumber",label:"工程造价(万元)",props:{max:Math.pow(10,7)-1,min:0,precision:2}},{name:"baseType",component:"Select",label:"工程地基特性",props:{options:[{value:0,label:"天然地基"},{value:1,label:"人工地基"}]}},{name:"baseHeight",component:"InputNumber",label:"工程地基厚度(米)",props:{max:Math.pow(10,7)-1,min:0,style:{width:"100%"},precision:2}},{name:"monitorType",label:"工程监测方式",component:"Select",props:{options:[{value:0,label:"传感器"},{value:1,label:"人工巡检"}]}},{name:"status",component:"Select",label:"工程建设情况",props:{options:[{value:0,label:"在建"},{value:1,label:"已建"}]}},{name:"certification",label:"工程施工单位资质",component:"Select",props:{options:[{value:0,label:"国营单位"},{value:1,label:"私营企业"}]}},{name:"maintOutlay",label:"平均年运行维护成本(万元)",component:"InputNumber",props:{max:Math.pow(10,7)-1,min:0,precision:2}},{name:"startDate",component:"DatePicker",label:"开工时间",props:{valueFormat:"YYYY-MM-DD",format:"YYYY-MM-DD",style:{width:"100%"}}},{name:"endDate",component:"DatePicker",label:"建成时间",props:{valueFormat:"YYYY-MM-DD",format:"YYYY-MM-DD",style:{width:"100%"}}},{name:"department",component:"Select",label:"归口管理部门",props:{options:[{value:1,label:"水利部门"},{value:2,label:"电力部们"},{value:3,label:"农业部门"},{value:4,label:"林业部门"},{value:5,label:"城建部门"},{value:6,label:"航运部门"},{value:7,label:"环保部门"},{value:9,label:"其他部门"}]}}];return(e,l)=>{const x=S,Y=w,h=M;return N(),k("div",z,[t(h,{title:"工程特征信息表单",loading:n(v)},{extra:s(()=>[t(x,{data:n(_)},null,8,["data"])]),default:s(()=>[t(Y,{class:"form",ref_key:"form",ref:c,layout:"vertical",configs:y,modelValue:n(a),"onUpdate:modelValue":l[0]||(l[0]=D=>V(a)?a.value=D:null),"label-width":"100px"},null,8,["modelValue"])]),_:1},8,["loading"])])}}});export{X as default};
